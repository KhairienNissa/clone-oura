import React, { useState, useEffect } from "react";
import CoverFire from "../../public/coverfire.png";
import Image from "next/image";
import Router from "next/router";
import { useTheme } from "next-themes";

function CardProducts({ item }) {
  const { systemTheme, theme, setTheme } = useTheme();
  const [mounted, setMounted] = useState(false);

  useEffect(() => {
    setMounted(true);
  }, []);

  if (!mounted) return null;

  const currentTheme = theme === "system" ? systemTheme : theme;

  return (
    <div
      onClick={() => Router.push(`/${item.id}/detail`)}
      className="hover:cursor-pointer mx-0.5 mt-3 justify-center"
    >
      <div className="w-auto h-full bg-[#212529] dark:bg-white rounded-md shadow-2xl">
        <img
          src={item.image}
          className="object-cover w-full rounded-t-md h-36"
        />
        <svg
          className="-mt-5 "
          fill={`${currentTheme === "light" ? "#212529" : "#ffff"}`}
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 1440 320"
        >
          <path
            fillOpacity="1"
            d="M0,224L6.2,192C12.3,160,25,96,37,90.7C49.2,85,62,139,74,133.3C86.2,128,98,64,111,37.3C123.1,11,135,21,148,32C160,43,172,53,185,48C196.9,43,209,21,222,48C233.8,75,246,149,258,197.3C270.8,245,283,267,295,266.7C307.7,267,320,245,332,229.3C344.6,213,357,203,369,186.7C381.5,171,394,149,406,160C418.5,171,431,213,443,229.3C455.4,245,468,235,480,229.3C492.3,224,505,224,517,229.3C529.2,235,542,245,554,213.3C566.2,181,578,107,591,106.7C603.1,107,615,181,628,176C640,171,652,85,665,96C676.9,107,689,213,702,218.7C713.8,224,726,128,738,112C750.8,96,763,160,775,197.3C787.7,235,800,245,812,224C824.6,203,837,149,849,133.3C861.5,117,874,139,886,128C898.5,117,911,75,923,90.7C935.4,107,948,181,960,202.7C972.3,224,985,192,997,197.3C1009.2,203,1022,245,1034,229.3C1046.2,213,1058,139,1071,144C1083.1,149,1095,235,1108,272C1120,309,1132,299,1145,266.7C1156.9,235,1169,181,1182,165.3C1193.8,149,1206,171,1218,197.3C1230.8,224,1243,256,1255,229.3C1267.7,203,1280,117,1292,96C1304.6,75,1317,117,1329,138.7C1341.5,160,1354,160,1366,165.3C1378.5,171,1391,181,1403,202.7C1415.4,224,1428,256,1434,272L1440,288L1440,320L1433.8,320C1427.7,320,1415,320,1403,320C1390.8,320,1378,320,1366,320C1353.8,320,1342,320,1329,320C1316.9,320,1305,320,1292,320C1280,320,1268,320,1255,320C1243.1,320,1231,320,1218,320C1206.2,320,1194,320,1182,320C1169.2,320,1157,320,1145,320C1132.3,320,1120,320,1108,320C1095.4,320,1083,320,1071,320C1058.5,320,1046,320,1034,320C1021.5,320,1009,320,997,320C984.6,320,972,320,960,320C947.7,320,935,320,923,320C910.8,320,898,320,886,320C873.8,320,862,320,849,320C836.9,320,825,320,812,320C800,320,788,320,775,320C763.1,320,751,320,738,320C726.2,320,714,320,702,320C689.2,320,677,320,665,320C652.3,320,640,320,628,320C615.4,320,603,320,591,320C578.5,320,566,320,554,320C541.5,320,529,320,517,320C504.6,320,492,320,480,320C467.7,320,455,320,443,320C430.8,320,418,320,406,320C393.8,320,382,320,369,320C356.9,320,345,320,332,320C320,320,308,320,295,320C283.1,320,271,320,258,320C246.2,320,234,320,222,320C209.2,320,197,320,185,320C172.3,320,160,320,148,320C135.4,320,123,320,111,320C98.5,320,86,320,74,320C61.5,320,49,320,37,320C24.6,320,12,320,6,320L0,320Z"
          ></path>
        </svg>
        <div className="text-white dark:text-black text-center dark:bg-[#ffff] py-2 text-xs rounded-b-md px-2">
          {item.title}
        </div>
      </div>
    </div>
  );
}

export default CardProducts;
